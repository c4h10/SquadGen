<a class="nav-link expand-button"
   [ngClass]="{'collapsed': collapsed, 'expanded' : !collapsed}"
   data-toggle="collapse"
   (click)="toggleExpand($event)"
   [satPopoverAnchorFor]="dial"
   (mouseenter)="dial.open()"
   (mouseleave)="dial.close()"
   >
  <mat-icon [ngClass]="ship.icon"></mat-icon> <p>{{ ship.name }}<b class="caret"></b></p>
</a>
<sat-popover #dial horizontalAlign="after">
  <div class="tooltip-wrapper">
    <div class="ship-dial">
      <span  class="dial-title">{{ship.name}} <i>Dial</i></span>
      <div class="dial-desc">
        <sg-maneuvers [ship]="ship"></sg-maneuvers>
      </div>
    </div>
  </div>
</sat-popover>

<div class="collapse" [ngClass]="{'show': !collapsed}">
  <ul class="nav pilot-list">
    <li class="nav-item" *ngFor="let pilot of pilots; let i = index">
      <a class="nav-link"
         (click)="addToSquad(pilot)"
         [satPopoverAnchorFor]="desc"
         (mouseenter)="desc.open()"
         (mouseleave)="desc.close()"
      >
        <mat-icon>add_box</mat-icon><p class="sidebar-normal">{{pilot.name}} ({{pilot.points}})</p>
      </a>
      <sat-popover #desc horizontalAlign="after">
        <div class="tooltip-wrapper">
          <div class="ship-desc">
            <div>{{ship.name}} <span *ngIf="pilot.unique">Unique</span></div>
            <div *ngIf="pilot.ability">{{ pilot.ability }}</div>
            <div><strong>Upgrades:</strong><sg-xwing-font-icon *ngFor="let upg of pilot.slots"  [type]="'upgrade'" [value]="upg"></sg-xwing-font-icon></div>
          </div>
        </div>
      </sat-popover>
    </li>
  </ul>
</div>
